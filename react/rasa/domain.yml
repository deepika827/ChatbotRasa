version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - weather
  - weather_for_location
  - bot_challenge
  - thanks
  - location
  - humanhandoff
  - resume

entities:
  - location

slots:
  handoff_offered:
    type: bool
    initial_value: false
    mappings:
    - type: custom

actions:
  - action_weather_location
  - action_default_fallback
  - action_human_handoff
  - action_check_resume
  - action_reset_handoff_slot

responses:
  utter_greet:
    - text: "Hey! How can i help you today?"

  utter_weather_response:
    - text: "great today!"
    - text: "It's sunny and warm."
    - text: "Expecting some rain later today."
    - text: "quite chilly outside."
    - text: "its predicting snow this weekend."
    - text: "around 20 degrees Celsius."

  utter_goodbye:
    - text: "Bye"

  utter_iamabot:
    - text: "I am a bot, powered by Rasa."

  utter_humanhandoff:
    - text: "Would you like to talk to a human agent ?"
      buttons:
        - title: "yes"
          payload: /affirm
        - title: "no"
          payload: /deny

  utter_ask_human_help:
    - text: "I'm not sure I understand. Would you like me to connect you to a human agent?"
      buttons:
        - title: "Yes, connect me to a human"
          payload: "/affirm"
        - title: "No, I'll try again"
          payload: "/deny"

  utter_continue:
    - text: "No problem! Feel free to ask me anything else, or try rephrasing your question."
    - text: "Alright! I'm here to help. What would you like to know?"

session_config:
  session_expiration_time: 30
  carry_over_slots_to_new_session: true

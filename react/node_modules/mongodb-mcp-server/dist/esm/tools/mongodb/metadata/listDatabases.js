import { MongoDBToolBase } from "../mongodbTool.js";
import { formatUntrustedData } from "../../tool.js";
export class ListDatabasesTool extends MongoDBToolBase {
    constructor() {
        super(...arguments);
        this.name = "list-databases";
        this.description = "List all databases for a MongoDB connection";
        this.argsShape = {};
        this.operationType = "metadata";
    }
    async execute() {
        const provider = await this.ensureConnected();
        const dbs = (await provider.listDatabases("")).databases;
        return {
            content: formatUntrustedData(`Found ${dbs.length} databases`, dbs.length > 0
                ? dbs.map((db) => `Name: ${db.name}, Size: ${db.sizeOnDisk.toString()} bytes`).join("\n")
                : undefined),
        };
    }
}
//# sourceMappingURL=listDatabases.js.map
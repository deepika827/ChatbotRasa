"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ListDatabasesTool = void 0;
const mongodbTool_js_1 = require("../mongodbTool.js");
const tool_js_1 = require("../../tool.js");
class ListDatabasesTool extends mongodbTool_js_1.MongoDBToolBase {
    constructor() {
        super(...arguments);
        this.name = "list-databases";
        this.description = "List all databases for a MongoDB connection";
        this.argsShape = {};
        this.operationType = "metadata";
    }
    async execute() {
        const provider = await this.ensureConnected();
        const dbs = (await provider.listDatabases("")).databases;
        return {
            content: (0, tool_js_1.formatUntrustedData)(`Found ${dbs.length} databases`, dbs.length > 0
                ? dbs.map((db) => `Name: ${db.name}, Size: ${db.sizeOnDisk.toString()} bytes`).join("\n")
                : undefined),
        };
    }
}
exports.ListDatabasesTool = ListDatabasesTool;
//# sourceMappingURL=listDatabases.js.map